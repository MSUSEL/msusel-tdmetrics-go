package $builtin {
  path: $builtin;

  interface List<any T> {
    implements: any;
    $get(int index) T;
    $len() int;
    $set(int index, T value);
  }
  inst List<string>
  inst List<Pointer<int>>

  interface Map<comparable TKey, any TValue> {
    implements: any;
    $get(TKey key)(TValue value, bool found);
    $len() int;
    $set(TKey key, TValue value);
  }
  inst Map<string, Pointer<int>>

  interface Pointer<any T> {
    implements: any;
    $deref() T;
  }
  inst Pointer<int>

  interface comparable {
    implements: any;
    $equal(any other) bool;
  }
}

package main {
  path: command-line-arguments;

  @ main.go:36
  class Bacon {
    Set<string, int, Map<string, Pointer<int>>> Set;
  }

  @ main.go:9
  class Set<comparable K, any V, ~Map<K, Pointer<V>> M> {
    M m;
    @ main.go:13
    AsSlices()(List<K>, List<Pointer<V>>);
  }
  inst Set<string, int, Map<string, Pointer<int>>>

  @ main.go:25
  PrintSlice<any T, ~List<T> S>(S s)
  inst PrintSlice<string, List<string>>(List<string> s)
  inst PrintSlice<Pointer<int>, List<Pointer<int>>>(List<Pointer<int>> s);
  @ main.go:40
  main();
}
